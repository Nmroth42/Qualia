{% load staticfiles %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>{% block title %}{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <script src="https://unpkg.com/vue"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"> </script>
    <script src="{% static 'js/vueindex.js' %}"> </script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <link rel='stylesheet prefetch' href='https://fonts.googleapis.com/icon?family=Material+Icons'>

</head>
<style>
    .Hide {

        display: none;
        transition: 2s ease-in-out;
        opacity: 0;
    }
</style>

<body class="body-content">
    <div id="app">


        <div class="header text-center">
            <span class="sidebarButton" @click="toggle"><i class="material-icons">menu</i></span>
            <span class="textHeader">Tasker</span>
            <span class="textUser">{{request.user}}</span>
        </div>

        <div class="container-fluid" id="app">
            <div class="row">
                <div class="col-lg-2 col-md-2 col-sm-2 sidebar " :class="{'Hide': isOpen}" style="color:black;">
                    {% block sidebar %}
                    <div class="text-center userProf">
                            <img  class="logo" src="{{MEDIA_URL}}{{request.user.task.logo}}" width="85" height="85">
                           
                            {{request.user}}
                            <hr>
                            
                            <a href="{% url 'task-sign-out' %}"> Log out </a>|
                            <a  href="{% url 'task-account' %}"> Edit </a>
                            </div>
                            
                            <div class="list-group text-center">
                            <span class="text-uppercase">
                            Dashboard
                            <a href="" class="list-group-item">task 1</a>
                            <a href="" class="list-group-item">task 2</a>
                            <a href="" class="list-group-item">task 3</a>
                            </span>
                            </div> 
                    {% endblock %}
                </div>
                <div class="col-lg-10 col-md-10 col-sm-10 content" :class="{'col-lg-12': isOpen}">

                    {% block page %}{% endblock %}
                
                </div>
                <div id="btn-top"><span class="upIcon"><i style="font-size: 50px" class="material-icons">expand_less</i></span></div>
            </div>
        </div>
    </div>

    <script>
        new Vue({
            delimiters: ['${', '}$'],
            el: '#app',
            data: {
                isOpen: true,
                message: 'Hello from Vue.js'
            },
            methods: {
                toggle() {
                    this.isOpen = !this.isOpen
                }
            }
        })
        $(document).ready(function () {
            var $btnTop = $("#btn-top");
            $(window).on("scroll", function () {
                if ($(window).scrollTop() >= 30) {
                    $btnTop.fadeIn();
                } else {
                    $btnTop.fadeOut();
                }
            });
            $btnTop.on("click", function () {
                $("html,body").animate({
                    scrollTop: 0
                },450);
            });


        });
    </script>



    </div>


</body>

</html>